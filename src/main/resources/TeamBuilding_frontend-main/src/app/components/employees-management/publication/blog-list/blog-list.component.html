<div class="container">


<div class="row">
  <div class="col-6 mx-auto">
    <div class="my-4 d-flex justify-content-between">
      <app-search (search)="handleSearch($event)"></app-search>
    
      <div class="sort-options">
        <select class="form-select" [(ngModel)]="selectedSortOption" (change)="onSortOptionChange()">
          <option value="new">Newest First</option>
          <option value="old">Oldest First</option>
        </select>
      </div>

      <a (click)="navigateToAddBlog()" class="btn btn-primary">Create</a>
    </div>
  </div>
  
</div>

<div class="row">


<div class="col-12">

  <!-- Alert Component with Close Button -->
  <app-alert
  [isVisible]="searchResult?.length === 0 && searchResult"
  alertClass="alert-warning"
  heading="Alert"
  message="Search Result"
  additionalText="No results found. Please try a different search."
  (close)="onCloseAlert()"
></app-alert>


  
  <div class="card my-5 w-50 mx-auto" *ngFor="let blog of searchResult || blogs | sort : selectedSortOption">
    <div class="card-body">
      <div class="d-flex justify-content-between">
        <h6 class="card-subtitle mb-2 text-muted">{{ blog.updatedAt | date:'yyyy-MM-dd HH:mm' }}</h6>
        <h6 class="card-subtitle mb-2 text-muted">{{ blog.createdAt | date:'yyyy-MM-dd HH:mm' }}</h6>
      </div>
      <h4 class="card-title">{{ blog.name }}</h4>
      <h6 class="card-subtitle mb-2 text-muted">By {{ blog.employeeFirstName | titlecase }} &nbsp; {{ blog.employeeLastName | titlecase }}</h6>
      <p class="card-text">
        {{ blog.description }}
      </p>
      <div class="d-flex justify-content-end">
        <a [routerLink]="['/readmore', blog.id]">Read more <i class="bi bi-arrow-right"></i></a>
      </div>
      <div class="d-flex">
        <app-upvote [id]="blog._id" [upvotes]="blog.upvotes" (vote)="onUpvote($event)"></app-upvote>
        <app-downvote [id]="blog._id" [downvotes]="blog.downvotes" (vote)="onDownvote($event)"></app-downvote>
      </div>
    </div>
  </div>
  

</div>

</div>



</div>






